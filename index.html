<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Let Me Search That For You</title>
<meta name="viewport" content="width=device-width, initial-scale=1">

<style>
body {
  margin: 0;
  padding: 20px;
  background: #c0c0c0;
  font-family: "Courier New", monospace;
}

.window {
  max-width: 720px;
  margin: auto;
  background: #fff;
  border: 3px solid #000;
  box-shadow: 8px 8px 0 #000;
}

.titlebar {
  background: navy;
  color: white;
  padding: 6px;
  font-weight: bold;
}

.content {
  padding: 15px;
}

input {
  width: 100%;
  padding: 10px;
  border: 2px inset #000;
  font-family: inherit;
}

button {
  width: 100%;
  padding: 8px;
  margin-top: 6px;
  border: 2px outset #000;
  background: #e0e0e0;
  font-family: inherit;
  cursor: pointer;
}

button.clicked {
  border: 2px inset #000;
  background: #c0c0c0;
  color: darkred;
  font-weight: bold;
}

.sarcasm {
  font-size: 12px;
  margin: 10px 0;
}

.result {
  max-width: 600px;
  margin: 20px auto;
}

.result a {
  color: #1a0dab;
  font-size: 18px;
  text-decoration: none;
}

.result p {
  font-size: 14px;
  color: #4d5156;
}

.fake-mouse {
  position: fixed;
  top: 0;
  left: 0;
  width: 24px;
  height: 24px;
  background: url("data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' width='24' height='24'><polygon points='0,0 0,24 6,18 10,26 14,24 10,16 18,16' fill='black'/></svg>");
  pointer-events: none;
  z-index: 9999;
}
</style>
</head>

<body>

<div class="window" id="app">
  <div class="titlebar">Let Me Search That For You</div>
  <div class="content">
    <p class="sarcasm">
      Type your question.<br>
      Yes. All of it.
    </p>

    <input id="query" placeholder="How does the internet work?" />

    <button onclick="generate(this,'google')">Google</button>
    <button onclick="generate(this,'bing')">Bing</button>
    <button onclick="generate(this,'duckduckgo')">DuckDuckGo</button>
    <button onclick="generate(this,'brave')">Brave Search</button>

    <p class="sarcasm" id="status"></p>
  </div>
</div>

<script>
const engines = {
  google: q => "https://www.google.com/search?q=" + encodeURIComponent(q),
  bing: q => "https://www.bing.com/search?q=" + encodeURIComponent(q),
  duckduckgo: q => "https://duckduckgo.com/?q=" + encodeURIComponent(q),
  brave: q => "https://search.brave.com/search?q=" + encodeURIComponent(q)
};

function generate(btn, engine) {
  const q = document.getElementById("query").value.trim();
  if (!q) return;

  document.querySelectorAll("button").forEach(b => b.classList.remove("clicked"));
  btn.classList.add("clicked");

  const url = location.origin + "?q=" + encodeURIComponent(q) + "&engine=" + engine;
  navigator.clipboard.writeText(url);

  document.getElementById("status").textContent =
    "Link copied. Someone else will now learn how search engines work.";
}

/* ====== PRANK MODE ====== */
const params = new URLSearchParams(location.search);
const q = params.get("q");
const engine = params.get("engine");

if (q && engine && engines[engine]) startPrank();

function startPrank() {
  document.getElementById("app").innerHTML = `
    <div class="titlebar">Searching the web...</div>
    <div class="content">
      <p class="sarcasm">Please wait. This is extremely difficult.</p>
      <input id="fakeInput">
      <div id="results"></div>
    </div>
  `;

  const mouse = document.createElement("div");
  mouse.className = "fake-mouse";
  document.body.appendChild(mouse);

  moveMouse(mouse, 100, 120);

  const input = document.getElementById("fakeInput");
  let i = 0;

  const typing = setInterval(() => {
    input.value += q[i++];
    if (i >= q.length) {
      clearInterval(typing);
      showResults(mouse);
    }
  }, 150);
}

function moveMouse(mouse, x, y) {
  mouse.style.transform = `translate(${x}px, ${y}px)`;
}

function showResults(mouse) {
  const results = document.getElementById("results");
  results.innerHTML = `
    <div class="result"><a href="#">How to search the internet</a><p>Learn how typing works.</p></div>
    <div class="result"><a href="#">What is Google?</a><p>A search engine.</p></div>
    <div class="result"><a href="#">Search engines explained</a><p>This might help.</p></div>
  `;

  let scroll = 0;
  const scrollInterval = setInterval(() => {
    scroll += 10;
    window.scrollTo(0, scroll);
    moveMouse(mouse, 200, 200 + scroll / 3);

    if (scroll > 200) {
      clearInterval(scrollInterval);
      setTimeout(() => {
        window.location.href = engines[engine](q);
      }, 3000);
    }
  }, 120);
}
</script>

</body>
</html>
